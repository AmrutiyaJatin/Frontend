<div class="container order-confirmation-container">
  <h2>Order Confirmation</h2>

  <div *ngIf="isLoading" class="loading-message">Loading order details...</div>
  <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>

  <div *ngIf="!isLoading && order" class="confirmation-content">
    <div class="icon-success">
      <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="#28a745" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
      </svg>
    </div>
    <p class="message">Thank you for your order! Your purchase has been confirmed.</p>

    <div class="order-details-card">
      <h3>Order #{{ order.orderId }} Details</h3>
      <div class="detail-row">
        <span>Order Date:</span>
        <span>{{ order.orderDate | date:'mediumDate' }}</span>
      </div>
      <div class="detail-row">
        <span>Total Amount:</span>
        <span>${{ order.totalAmount | number:'1.2-2' }}</span>
      </div>
      <div class="detail-row delivery-date">
        <span>Estimated Delivery:</span>
        <span>{{ order.estimatedDeliveryDate ? (order.estimatedDeliveryDate | date:'mediumDate') : 'Pending' }}</span>
      </div>
      <p class="email-note">A confirmation email with delivery details has been sent to your registered email address.</p>

      <h4>Items Ordered:</h4>
      <ul class="order-items-list">
        <li *ngFor="let item of order.items">
          {{ item.title }} (x{{ item.quantity }}) - ${{ (item.price * item.quantity) | number:'1.2-2' }}
        </li>
      </ul>
    </div>

    <div class="actions">
      <button routerLink="/order-history" class="btn primary-btn">View All Orders</button>
      <button routerLink="/" class="btn secondary-btn">Continue Shopping</button>
    </div>
  </div>
</div>
